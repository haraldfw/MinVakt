<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" xmlns:th="http://www.thymeleaf.org"
      th:include="layout :: mainLayout">

<head th:fragment="header">
    <script src="/js/common/jsonSubmit.js"></script>
    <link rel="stylesheet" type="text/css" href="//cdnjs.cloudflare.com/ajax/libs/cookieconsent2/3.0.3/cookieconsent.min.css" />
    <script src="//cdnjs.cloudflare.com/ajax/libs/cookieconsent2/3.0.3/cookieconsent.min.js"></script>
    <script>
        window.addEventListener("load", function(){
            window.cookieconsent.initialise({
                "palette": {
                    "popup": {
                        "background": "#eaf7f7",
                        "text": "#5c7291"
                    },
                    "button": {
                        "background": "transparent",
                        "text": "#56cbdb",
                        "border": "#56cbdb"
                    }
                },
                "position": "bottom-right",
                "content": {
                    "message": "This website uses cookies to ensure you get the best experience on our website. By continuing you comply to our cookie policy!"
                }
            })});
    </script>
    <style>
        body {
            background-color: #222;
        }

        .login-box {
            max-width: 480px;
            margin: 0 auto;     /* 0:up/down, auto:right/left */
            position: relative;
            top: 50%;
            /*transform: translateY(-50%);*/
            border-style: solid;
            border-width: 1px;
            border-color: #4da5ba;
            border-radius: 10px;
            padding: 20px;
            background-color: white;
            box-shadow: 1px 1px 10px rgba(0,0,0,.4);
        }

        .login-box .btn {
            width: 100%;
            margin-bottom: 15px;
        }
    </style>
</head>

<div th:fragment="content">
    <div align="center">
        <img src="/images/MinVakt_Linje_200.png" style="margin-bottom: 4em"/>
    </div>
    <div id="login" class="login-box">
        <form action="/api/login" method="post"
              onsubmit="return jsonSubmitFns(this, () => {window.location = '/'}, () => $('#error').slideDown(200))">
            <div class="form-group">
                <input type="text" autofocus="autofocus" class="form-control" placeholder="Brukernavn" name="username"
                       required="required"/>
            </div>
            <div class="form-group">
                <input type="password" class="form-control" placeholder="Passord" name="password"
                       th:required="required"/>
            </div>
            <div id="error" hidden="hidden" class="alert alert-danger fade in">
                Feil brukernavn eller passord!
            </div>
            <div class="checkbox">
                <label><input name="remember_me:boolean" type="checkbox"/>Husk meg</label>
            </div>
            <button type="submit" class="btn btn-primary" value="Login">Logg inn</button>
        </form>
        <a href="/password/forgot">Glemt passord?</a>
    </div>
</div>
</html>